ingress:
  enabled: true
  annotations:
    nginx.ingress.kubernetes.io/proxy-connect-timeout: "360"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "360"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "360"
    nginx.ingress.kubernetes.io/proxy-body-size: 100m
    nginx.ingress.kubernetes.io/client-body-buffer-size: 100m
    nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
  hosts:
    - host: neos.krizic.net
      paths:
      - path: "/"
image:
  tag: 492a8f6-linux-arm64
nodeSelector:
  kubernetes.io/arch: arm64
database:
  username: neos
  password: neos
  hostname: neos-mariadb
  name: neos
neos:
  settings:
    Neos:
      Flow:
        http:
          trustedProxies:
            proxies:
              - '*'
            headers:
              clientIp: 'X-Forwarded-For'
              host: 'X-Forwarded-Host'
              port: 'X-Forwarded-Port'
              proto: 'X-Forwarded-Proto'
sites:
  neoscms.conf: |-
    <VirtualHost *:80>
         ServerAdmin admin@example.com
         DocumentRoot /var/www/html/neoscms/Web
         ServerName neos.krizic.net

         ErrorLog ${APACHE_LOG_DIR}/neos_error.log
         CustomLog ${APACHE_LOG_DIR}/neos_access.log combined

         <Directory /var/www/html/neoscms/Web/>
            Options FollowSymlinks
            AllowOverride All
            Require all granted
            RewriteEngine on
            RewriteBase /
            RewriteCond %{REQUEST_FILENAME} !-f
            RewriteRule ^(.*) index.php [PT,L]
        </Directory>

    </VirtualHost>

